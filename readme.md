#  Путешествие Фродо

Добро пожаловать в *Путешествие Фродо*! Это приложение поможет вам провести Фродо Бэггинса через опасности Средиземья, от уютного Шира до мрачной Горы Судьбы, где нужно уничтожить Кольцо Всевластия. Вы будете использовать Redux Toolkit (RTK), чтобы управлять состоянием приложения и строить интерактивную карту. Твоя задача — шаг за шагом создать функциональность, которая обеспечит Фродо безопасный путь.

---

## Введение

Вы — хранители судьбы Фродо. С помощью RTK вы будете управлять состоянием приложения, чтобы помочь ему пройти через Средиземье и выполнить миссию. Каждый релиз — это новый шаг в этом приключении. Готовы ли вы отправиться в путь?

---

### Релиз 1: Карта Средиземья — Получение предопределённых точек
- **Задача**: Вы — Гэндальф Серый, и ваша мудрость нужна, чтобы найти важные точки на карте: Шир, Ривенделл, Мория и другие. Напиши код, который запросит эти места с сервера и сохранит их в состоянии приложения.  
- **Что нужно сделать**:  
  - Создайте асинхронное действие (используйте `createAsyncThunk`), чтобы загрузить данные с API по адресу `/points`.  
  - Сохраните полученный список точек в вашем слайсе RTK.  
  - Убедитесь, что ошибки загрузки обрабатываются — вдруг орки попытаются помешать!  
- **Подсказка**: Используйте Zod, чтобы проверить данные, как эльфы проверяют древние свитки. Убедитесь, что точки готовы к отображению на карте.

### Релиз 2: Построение пути — Добавление точек в маршрут
- **Задача**: Вы — Сэм Гэмджи, верный друг Фродо. Помогите ему выбрать путь, добавляя новые точки в маршрут, когда он указывает место на карте. Сохраните эти точки в состоянии приложения.  
- **Что нужно сделать**:  
  - Напишите reducer (`addPointToRoute`), который добавит точку в массив `userRoute`.  
  - Каждая точка должна содержать координаты (`latitude`, `longitude`), взятые из клика по карте.  
- **Подсказка**: Следите, чтобы точки добавлялись только при клике на карту, а не на уже существующие маркеры. Каждый шаг Фродо важен!

### Релиз 3: Проверка пути — Отправка Фродо в путь
- **Задача**: Вы — Арагорн, проводник братства. Отправьте маршрут Фродо на сервер, чтобы узнать, приведёт ли он к уничтожению Кольца. Сохраните результат проверки в состоянии.  
- **Что нужно сделать**:  
  - Создайте `thunk` для отправки массива `userRoute` на сервер по адресу `/check-route`.  
  - Получите ответ от сервера и сохраните его в состоянии (например, в переменной `result`).  
- **Подсказка**: Путь опасен, поэтому проверяйте маршрут (можно заглянуть в палантир server/src/services/pointService и увидеть верный путь), только если в нём есть хотя бы две точки. Орки не дремлют!

### Релиз 4: Возвращение в Шир — Сброс маршрута
- **Задача**: Даже хоббиты иногда хотят вернуться домой. Добавьте возможность сбросить маршрут Фродо, чтобы он мог начать путешествие заново.  
- **Что нужно сделать**:  
  - Напишите reducer (`resetRoute`), который очистит `userRoute`, результат проверки (`result`) и состояние анимации (`animating`).  
- **Подсказка**: Убедитесь, что после сброса всё выглядит так, будто Фродо только вышел из Шира — чистый лист для нового пути.

### Релиз 5: Путь Фродо — Анимация движения
- **Задача**: Вы — Голлум, ведущий Фродо через опасные тропы. После проверки маршрута покажите, как Фродо движется от точки к точке на карте.  
- **Что нужно сделать**:  
  - Напишите reducer (`startAnimation`), чтобы запустить анимацию.  
  - В компоненте карты добавьте код для плавного перемещения маркера Фродо по точкам маршрута.  
  - Используйте reducer (`stopAnimation`), чтобы остановить анимацию, когда Фродо дойдёт до конца.  
- **Подсказка**: Сделайте движение плавным, как полёт орлов. Проверьте, чтобы анимация не начиналась, если маршрут пустой.

---

## Заключение

**Поздравляем, хранители Средиземья!**  
Вы провели Фродо через все трудности и помогли ему выполнить миссию.

---

## Советы для студентов

- **Redux DevTools**: Используйте их, чтобы следить за изменениями состояния и действиями — это как магический палантир для разработчиков.  

Теперь вперёд, помогите Фродо уничтожить Кольцо! Пусть твой код будет таким же надёжным, как меч Арагорна!